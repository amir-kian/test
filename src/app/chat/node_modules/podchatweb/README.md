# Podchatweb

> Podchatweb is a web app built by react for handling POD chating use cases

[![Preview of Podchat web][preview_image]][preview_image_url]

## Installation

```
npm install podchatweb --save
```

## Development

####    

```
git clone https://github.com/FanapSoft/pod-chat-react-module.git
npm install
```

#### Required Post installation (UI kit)

```
git clone https://github.com/FanapSoft/pod-chat-ui-kit.git
npm install
```

#### After packages installation:

<pre>
__
  |_ pod-chat-react-module
  |_ pod-chat-ui-kit
</pre>

```bash
npm run start
```

## Usage

React component:

```jsx
import {PodchatJSX} from "podchatweb";

class MyApp extends Component {
  render() {
    const {token} = this.props;
    return <PodchatJSX token={token}/>
  }
}
```

### Programmatic calling:

#### Module loader:

```jsx
import {Podchat} from "podchatweb"

class MyApp extends Component {

  componentDidMount() {
    const {token} = this.props;
    Podchat({token}, "myChat")
  }

  render() {
    return <div id="myChat"/>
  }
}
```

#### Old school:

```html
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="dist/index-old-school.js"/>
</head>

<body>
<div id="app"></div>
<script>
    Podchat({token: "YOUR_INITIAL_TOKEN", ...ANOTHER_OPTIONS }, "app" /*div ID*/, function (instance) {
        //SET TOKEN WHEN YOU GOT FRESH TOKEN
        instance.setToken("REFRESH_TOKEN")
    });
</script>
</body>
</html>
```

#### Support mode

You can use *podchatweb* as support mode module with this simple config.<br/><br/>
<img src="https://raw.githubusercontent.com/FanapSoft/pod-chat-react-module/master/docs/support-mode.png" width="200">

```jsx
import {PodchatJSX} from "podchatweb";

class MyApp extends Component {
  render() {
    const {token} = this.props;
    return <PodchatJSX supportMode={1234} //SUPPORT THREAD ID
                       token={token}/>
  }
}
```

Or in old school mode:

```html
<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="dist/index-old-school.js"/>
  </head>

<body>
  <div id="app"></div>
  <script>
    Podchat({token: "YOUR_INITIAL_TOKEN", supportMode: 1234 /*SUPPORT THREAD ID*/}, "app" /*div ID*/, function (instance) {
    //SET TOKEN WHEN YOU GOT FRESH TOKEN
    instance.setToken("REFRESH_TOKEN")
  });
  </script>
</body>
</html>
```

## Props

<table>
<thead><th>Prop</th><th>Usage</th><th>Type</th></thead>
<tbody>

<tr>
<td>supportMode</td><td> <a href="#support-mode">Mentioned earlier</a> </td><td>Boolean</td>
</tr>

<tr>
<td>small</td><td>Look like loading podchatweb on mobile device</td><td>Boolean</td>
</tr>

<tr>
<td>disableNotification</td><td>No notification</td><td>Boolean</td>
</tr>

<tr>
<td>routerLess</td><td>No changes on browser route by chat</td><td>Boolean</td>
</tr>
<tr>
<td>onRetryHook</td><td>While retrying for a new connection if you set this prop chat will call your function and wait for a Promise return. Resolve that promise with a fresh token </td><td>Func</td>
</tr>
<tr>
<td>onSignOutHook</td><td>Click on sign out button and this props will make you a decision maker to what to do after that.</td><td>Func</td>
</tr>
<tr>
<td>onTypingHook</td><td>While typing in a thread you will get the content</td><td>Func</td>
</tr>
<tr>
<td>onNotificationClickHook</td><td>You can make yourself notify when a user click on a browser default notification that generated by chat.</td><td>Func</td>
</tr>
</tbody>
</table>

## License

This project is open-sourced software licensed under the [MIT license](http://opensource.org/licenses/MIT).


[//]: # (LINKS)

[preview_image]: https://raw.githubusercontent.com/FanapSoft/pod-chat-react-module/master/docs/preview.png "Preview of podchat web"

[preview_image_url]: https://raw.githubusercontent.com/FanapSoft/pod-chat-react-module/master/docs/preview.png

[support_mode]: https://raw.githubusercontent.com/FanapSoft/pod-chat-react-module/master/docs/support-mode.png "Support mode"

[support_mode_url]: https://raw.githubusercontent.com/FanapSoft/pod-chat-react-module/master/docs/support-mode.png