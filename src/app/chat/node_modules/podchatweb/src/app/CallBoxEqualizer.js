import React, {useEffect} from "react";

import Container from "../../../Talk-ui-kit/src/container";
import Shape, {ShapeCircle} from "../../../Talk-ui-kit/src/shape";

//styling
import style from "../../styles/app/CallBoxEqulizer.scss";
import classnames from "classnames";
import {MdVolumeUp, MdSpeaker} from "react-icons/md";

export default function ({participant, className, hollowerClassName, speakerClassName, ...other}) {
  const classNames = classnames({
    [style.CallBoxEqualizer]: true,
    [className]: className
  });
  const hollowerClassNames = classnames({
    [style.CallBoxEqualizer__Hollower]: true,
    [className]: hollowerClassName
  });
  const speakerClassNames = classnames({
    [style.CallBoxEqualizer__SpeakerController]: true,
    [style["CallBoxEqualizer__SpeakerController--show"]]: !participant?.mute && participant?.audioLevel > 0,
    [className]: speakerClassName
  });
  return <Container className={classNames}
                    {...other}>

    <Container className={hollowerClassNames} style={{
      //display: participant?.mute ? "none" : "block",
      transform: !participant?.mute && participant?.audioLevel ? `scale(1.${participant?.audioLevel})` : "scale(1)"
    }}/>


    <Container className={speakerClassNames}>
      <Shape className={style.CallBoxEqualizer__SpeakerIconShapeContainer}
             color="accent">
        <ShapeCircle><MdVolumeUp size={style.iconSizeSm}
                                color={style.colorAccentDark}/></ShapeCircle>
      </Shape>

    </Container>


  </Container>
}